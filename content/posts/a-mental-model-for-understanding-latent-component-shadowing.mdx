---
title: A mental model for understanding latent component shadowing in Gatsby themes
author: Eric Howey
authorLink: https://twitter.com/erchwy
tags: [Catalyst, Gatsby, Themes]
date: 2019-01-11
featuredImage: ../post-assets/featured1.jpg
draft: true
---

As I built [Catalyst series of themes](https://github.com/ehowey/gatsby-theme-catalyst) I went through a number of different iterations of the core theme and child themes trying to find an approach that would allow for easy composition and clear separation. The lightbulb went off when I read John Otander’s blog post on the topic of [latent component shadowing](https://johno.com/latent-component-shadowing).

Here is one way of imagining how this works using a core theme.

We are all familiar with computers and computer ports (USB, HDMI, SD card, etc). Most of the time these ports sit unused and disconnected, doing nothing. But when you plug something in they power on and provide access to something like an external monitor.

In this analogy the core theme is the computer and provides different “ports” for sub-themes to link with. These sub-themes then extend the core theme adding new functions or actions but rely on the core theme for their “power”. Just as with a computer the “port” matters, USB-A doesn’t fit in USB-C no matter how much you want it to.

[PICTURE HERE]

## Let’s take a look at this idea in action.

With Gatsby Theme Catalyst one of my goals was to be able to easily swap out headers and footers without modifying the core theme. These are often some of the more dynamic and complex parts of a website. To enable this functionality the core theme has two “ports” or components, one for a header and one for a footer; `header.js` and `footer.js`.

In the [core theme](https://gatsby-starter-catalyst-core.netlify.com/) these components just return a placeholder div but could even return null if you wanted to remove them entirely. But the presence of these components in the core theme means that they can be shadowed by a sub-theme to add functioning headers and footers. You can use a prebuilt theme, e.g. `gatsby-theme-catalyst-header-basic`, or just build your own custom header. The beauty in this approach is that the header exists as a discrete unit that can be deleted, modified or changed without changing the core theme.

Upgrading your external monitor? Unplug the old one, plug in the new one. Changing your site header? Unplug the old one, plug in the new one. It is that straight forward and that amazing!

Understanding the power of latent component shadowing unlocks a whole new set of possibilities when building complex themes with Gatsby.
